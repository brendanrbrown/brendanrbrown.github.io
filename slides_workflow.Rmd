---
title: "R Markdown and basic coding"
author: ""
date: ""
output:
  xaringan::moon_reader:
    css: [default, metropolis, metropolis-fonts]
    fig_caption: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# What you will learn

- Knit markdown files through `RStudio`
- Assign values to objects in `R`
- Call functions
- Create vectors of data
- Check data types

**Main reference:** R4DS chapter 4. 

**Resources**
- [RStudio interface cheat sheet](https://github.com/rstudio/cheatsheets/raw/master/rstudio-ide.pdf)
- [RMarkdown cheat sheet](https://github.com/rstudio/cheatsheets/raw/master/rmarkdown-2.0.pdf)
- [markdown syntax tutorial](https://www.markdowntutorial.com/)
- [markdown html guide](https://bookdown.org/yihui/rmarkdown/html-document.html).
- [RMarkdown reference guide](https://www.rstudio.com/wp-content/uploads/2015/03/rmarkdown-reference.pdf)
- [base R cheat sheet](http://github.com/rstudio/cheatsheets/raw/master/base-r.pdf)
---
# By this point...

You should have 

- **installed** `R` and R Studio on your computer
- **experimented** with coding in the console

e.g. basic things like

```{r}
2*4
```

```{r}
x <- 2*4
x
```

**Will reinforce this today**
---
# R Markdown

These days, the **only way I program in R**  is through R Markdown.



## Benefits

- Run code from top to bottom in an isolated session
- Helps with reproducibility: Data objects created in a previous run do not affect the current run
- Combines code with text, pictures, links etc
- Create a variety of presentable documents, e.g. html, pdf, word or various slide formats

## Reminder on assignment submission

All assignments must be submitted as printed HTML files through RMarkdown. They **must 'knit'** and produce an html output to be valid homework submissions.

If you can't knit your code to html, mostly likely there's a bug in your code you should fix.

---
# Basics: create an html markdown document

In RStudio, `File -> New File -> R Markdown` or use the shortcut. Select html output.

**Why HTML?** Other formats require additional programs, such as LaTeX for pdf documents. HTML documents are versatile, trouble-free and suffice for this course.

The top of your new document will look like this

```
---
title: "Assignment one"
author: "B. Brown"
date: "Jan. 19, 2020"
output: html_document
---
```

followed by some dummy examples. Here is a rundown of the [basics in R Markdown](https://rmarkdown.rstudio.com/authoring_basics.html). 

---
# Code chunks, object assignment

Insert R code into the document by clicking the green insert button on the top right of the markdown document in R Studio. Select the `R` code format. 

This is called a **code chunk**. By default, markdown will display the code and the output. Here we compute $\pi^2 / 6$.

```{r}
pi^2 / 6
```

## Assignment
To assign output to an object in R, use `<-`. We can then use the assigned object in further calculations.

```{r}
x <- pi^2 / 6

x - 1
```

---
# Function calls

Each function call has the following basic syntax: `function(argument1, argument2, ...)` and returns an output.

```{r}
sin(x)
```

Many functions take multiple arguments, and return a different type of object than the argument. 

For example, `seq` takes two arguments `from` and `to`, and generates a sequence of numbers.

```{r}
seq(50, 55)
```

We can assign arguments explicitly, in which case the argument order doesn't matter.

```{r}
seq(to = 55, from = 50)
```


---
# Function calls
Another example: `rep` simply repeats an input a specified number of times.

```{r}
rep("acorns", 5)
```

To learn more about a particular function use `?` before the function name, as follows

```{r, eval=FALSE}
?seq
```

This will tell you the names and types of arguments required and values returned.

## Google it
Best way to figure out which R function does a thing: **search it on the internet**

---
# Vectors

A vector is a series of data elements, typically numbers or characters. Create one from scratch using the `c` function in R.


```{r}
nonsense <- c("orangutan", "orang utan", "O Rang You Tan!")
nonsense
```

Functions taking single arguments and elementary operations such as multiplication `*`, if given a vector of arguments, will evaluate themselves for each element in the vector.

```{r}
n <- seq(1, 4)
pi*n
```


```{r}
x <- pi*n
sin(x)
```

---
# Data types
Vectors hold a single type of data, each treated differently in `R`. Checked with `class`.

- **Numeric:** Can be multiplied, divided etc
- **Character:** A kind of 'default' type. Stores generic non-numeric information or 'strings'
- **Logical:** `TRUE` or `FALSE`
- **Factor:** Categorical data, ordered or not

```{r}
class(c(1, 2, 3))
```

```{r}
class(c(TRUE, TRUE, FALSE))
```

Combined types default to character.

```{r}
class(c(1, TRUE, 'three'))
```

---
# Now you try!

![](https://ichef.bbci.co.uk/wwfeatures/live/624_351/images/live/p0/26/0z/p0260z5q.jpg)

Orangutan are good at [observation, imitation and tinkering](http://www.bbc.com/earth/story/20140924-diy-orangutans). In-class tutorials require exactly those skills.

The markdown syntax to include this picture from the internet is

```
![](https://ichef.bbci.co.uk/wwfeatures/live/624_351/images/live/p0/26/0z/p0260z5q.jpg)
```

---
# Tutorial

**This first tutorial, we do together.** 

- Create an **html document in R Markdown** with
- Names of team members
- A picture of a squirrel
- 4 numbers randomly sampled from the sequence of numbers $1, 2, ... 10$. **Use the internet to find the function!**
- Assign the output from the previous task to an object (you name it), and sort the numbers from lowest to highest


### Reminder about tutorials

- Work in groups of **max 3 people in adjacent seats**. You can work alone
- **Display all code** and output
- **Five groups will volunteer** and email me the html output
- Graded on completion and effort, see syllabus
- If not enough volunteers, I choose at random
- Priority to those with people who haven't done it yet


